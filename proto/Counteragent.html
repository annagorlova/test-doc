



<!DOCTYPE html>
<html class="writer-html5" lang="ru" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Counteragent &mdash; документация Диадок 1.87.0</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon-16.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Алфавитный указатель" href="../genindex.html" />
    <link rel="search" title="Поиск" href="../search.html" />
    <link rel="next" title="Работа с шаблонами" href="../API_Templates.html" />
    <link rel="prev" title="GetCounteragentCertificates" href="../http/GetCounteragentCertificates.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Диадок
          

          
          </a>

          
            
            
              <div class="version">
                1.87
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">История изменений</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ReleaseNotes.html">История изменений API</a></li>
</ul>
<p class="caption"><span class="caption-text">С чего начать</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../howtostart/IntegrationOptions.html">Возможности для интеграции</a></li>
</ul>
<p class="caption"><span class="caption-text">Общее описание возможностей</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Overview.html">Обзор возможностей API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IntegrationOptions_obsolete.html">Возможности для интеграции</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DataModel.html">Модель данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ApiClientOperationPrinciple.html">Порядок работы с API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Counteragents.html">Управление списком активных контрагентов</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MiscellaneousApiFeatures.html">Дополнительные функции API</a></li>
</ul>
<p class="caption"><span class="caption-text">Документооборот</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../docflows/AttachmentVersion.html">Форматы документов</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http/GetDocumentTypes.html">GetDocumentTypes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docflows/InvoiceDocflow.html">Документооборот счетов-фактур</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docflows/Torg12Docflow.html">Документооборот накладных</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docflows/AktDocflow.html">Документооборот актов</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docflows/UtdDocflow.html">Документооборот УПД</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docflows/NonformalizedDocflow.html">Неформализованный документооборот</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docflows/TemplateDocflow.html">Документооборот шаблонов</a></li>
</ul>
<p class="caption"><span class="caption-text">Примеры использования</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../howto/powerofattorney.html">Работа с машиночитаемой доверенностью</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howto/marking_ttgis.html">Работа с документами с маркированными товарами</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howto/utd820.html">Работа с документами в 820 формате</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howto/example_authorization.html">Как авторизоваться в системе</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howto/example_send_invoice.html">Как отправить счет-фактуру</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howto/example_receive_invoice.html">Как получить счет-фактуру</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howto/example_torg12.html">Как отправить и получить товарную накладную ТОРГ-12 в рекомендованном ФНС формате</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howto/example_acceptance_certificate.html">Как отправить и получить акт о выполнении работ/оказании услуг в рекомендованном ФНС формате</a></li>
</ul>
<p class="caption"><span class="caption-text">Техническая документация</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../DataStructures.html">Структуры данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Authorization.html">Авторизация</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API_Invoices.html">Работа со счетами-фактурами</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API_UniversalTransferDocument.html">Работа с УПД</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API_Documents.html">Работа с документами</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API_Messages.html">Работа с сообщениями</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API_Events.html">Работа с событиями</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API_Organizations.html">Работа с организациями</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API_Departments.html">Работа с подразделениями</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API_Employees.html">Работа с сотрудниками</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../API_Counteragents.html">Работа с контрагентами</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../http/AcquireCounteragent.html">AcquireCounteragent</a></li>
<li class="toctree-l2"><a class="reference internal" href="../http/AcquireCounteragentResult.html">AcquireCounteragentResult</a></li>
<li class="toctree-l2"><a class="reference internal" href="../http/BreakWithCounteragent.html">BreakWithCounteragent</a></li>
<li class="toctree-l2"><a class="reference internal" href="../http/GetCounteragent.html">GetCounteragent</a></li>
<li class="toctree-l2"><a class="reference internal" href="../http/GetCounteragents.html">GetCounteragents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../http/GetCounteragentCertificates.html">GetCounteragentCertificates</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Counteragent</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../API_Templates.html">Работа с шаблонами</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API_Registration.html">Регистрация организации и сотрудника по сертификату</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Docflow%20API.html">Docflow API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CloudSignApi.html">Подпись Контур.Сертификатом</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API_Dss.html">Подпись сертификатом без носителя</a></li>
</ul>
<p class="caption"><span class="caption-text">Справочное руководство</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../http_methods.html">Справочник HTTP-интерфейсов</a></li>
<li class="toctree-l1"><a class="reference internal" href="../protos.html">Справочник структур данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lists.html">Список HTTP-интерфейсов и структур данных</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Диадок</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../API_Counteragents.html">Работа с контрагентами</a> &raquo;</li>
        
      <li>Counteragent</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/proto/Counteragent.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="counteragent">
<h1>Counteragent<a class="headerlink" href="#counteragent" title="Ссылка на этот заголовок">¶</a></h1>
<div class="highlight-protobuf notranslate"><div class="highlight"><pre><span></span><span class="kd">message</span> <span class="nc">CounteragentList</span> <span class="p">{</span>
    <span class="k">required</span> <span class="kt">int32</span> <span class="na">TotalCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">repeated</span> <span class="n">Counteragent</span> <span class="na">Counteragents</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
            <span class="k">required</span> <span class="n">TotalCountType</span> <span class="na">TotalCountType</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">Counteragent</span> <span class="p">{</span>
    <span class="k">optional</span> <span class="kt">string</span> <span class="na">IndexKey</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">required</span> <span class="n">Organization</span> <span class="na">Organization</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="k">optional</span> <span class="n">CounteragentStatus</span> <span class="na">CurrentStatus</span> <span class="o">=</span> <span class="mi">3</span> <span class="p">[</span><span class="k">default</span> <span class="o">=</span> <span class="n">UnknownCounteragentStatus</span><span class="p">];</span>
    <span class="k">required</span> <span class="kt">sfixed64</span> <span class="na">LastEventTimestampTicks</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
    <span class="k">optional</span> <span class="kt">string</span> <span class="na">MessageFromCounteragent</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
    <span class="k">optional</span> <span class="kt">string</span> <span class="na">MessageToCounteragent</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
    <span class="k">optional</span> <span class="n">DocumentId</span> <span class="na">InvitationDocumentId</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">enum</span> <span class="n">CounteragentStatus</span> <span class="p">{</span>
    <span class="na">UnknownCounteragentStatus</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="na">IsMyCounteragent</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="na">InvitesMe</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="na">IsInvitedByMe</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
    <span class="na">RejectsMe</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
    <span class="na">IsRejectedByMe</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
    <span class="na">NotInCounteragentList</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">enum</span> <span class="n">TotalCountType</span> <span class="p">{</span>
    <span class="na">UnknownCountType</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="na">Equal</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="na">GreaterThanOrEqual</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">CounteragentCertificateList</span> <span class="p">{</span>
    <span class="k">repeated</span> <span class="n">Certificate</span> <span class="na">Certificates</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">Certificate</span> <span class="p">{</span>
    <span class="k">required</span> <span class="kt">bytes</span> <span class="na">RawCertificateData</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Структура данных <em>CounteragentList</em> представляет собой список контрагентов <em>Counteragent</em>, возвращаемый методом <a class="reference internal" href="../http/GetCounteragents.html"><span class="doc">GetCounteragents</span></a>. Поле <em>CounteragentList.TotalCount</em> содержит общее количество контрагентов, удовлетворяющих фильтру.</p>
<ul class="simple">
<li><p><em>TotalCountType</em> — параметр, отражающий, какое значение содержит поле <em>TotalCount</em>. Принимает одно из значений перечисления <em>TotalCountType</em>:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><em>Equal</em> — поле <em>TotalCount</em> содержит точное количество контрагентов, удовлетворяющих запросу. Этот параметр используется при количестве контрагентов меньше 10000.</p></li>
<li><p><em>GreaterThanOrEqual</em> — поле <em>TotalCount</em> возвращает значение 10000, при этом реальное количество контрагентов может быть больше. Это ограничение введено для того, чтобы увеличить производительность метода при больших количествах контрагентов. При этом ограничение влияет только на значение поля <em>TotalCount</em>, но вы по-прежнему можете получить весь список контрагентов, используя параметр <em>IndexKey</em>.</p></li>
</ul>
</div></blockquote>
<p>Структура данных <em>Counteragent</em> содержит информацию об одном контрагенте:</p>
<ul class="simple">
<li><p><em>IndexKey</em> - уникальный ключ контрагента, который можно передавать в метод <a class="reference internal" href="../http/GetCounteragents.html"><span class="doc">GetCounteragents</span></a> в качестве параметра afterIndexKey для итерирования по всему отфильтрованному списку.</p></li>
<li><p><em>Organization</em> - информация об организации-контрагенте, представленная в виде структуры <a class="reference internal" href="Organization.html"><span class="doc">Organization</span></a>.</p></li>
<li><p><em>CurrentStatus</em> - текущий статус отношения партнерства с данным контрагентом; может меняться со временем; возможные значения:</p>
<ul>
<li><p><em>UnknownCounteragentStatus</em> (неизвестный статус, может выдаваться лишь в случае, когда клиент использует устаревшую версию SDK и не может интерпретировать статус контрагента, переданный сервером),</p></li>
<li><p><em>IsMyCounteragent</em> (отношение партнерства установлено и действует),</p></li>
<li><p><em>InvitesMe</em> (данный контрагент прислал запрос на установление отношения партнерства),</p></li>
<li><p><em>IsInvitedByMe</em> (в адрес данного контрагента был отправлен запрос на установление отношения партнерства),</p></li>
<li><p><em>RejectsMe</em> (отношение партнерства было разорвано со стороны контрагента, либо запрос на установление отношения партнерства был отклонен контрагентом),</p></li>
<li><p><em>IsRejectedByMe</em> (отношение партнерства было разорвано со стороны текущей организации, либо запрос на установление отношения партнерства был отклонен текущей организацией),</p></li>
<li><p><em>NotInCounteragentList</em> (специальное значение, выдаваемое для организаций, которые отсутствуют в списке контрагентов текущей организации; не может выдаваться при получении структур Counteragent методами <a class="reference internal" href="../http/GetCounteragent.html"><span class="doc">GetCounteragent</span></a> и <a class="reference internal" href="../http/GetCounteragents.html"><span class="doc">GetCounteragents</span></a>).</p></li>
</ul>
</li>
<li><p><em>LastEventTimestampTicks</em> - <a class="reference internal" href="Timestamp.html"><span class="doc">метка времени</span></a> последнего события из истории взаимодействия с данным контрагентом.</p></li>
<li><p><em>MessageFromCounteragent</em> - текст последнего комментария, полученного от контрагента, из истории взаимодействия ним.</p></li>
<li><p><em>MessageToCounteragent</em> - текст последнего комментария, отправленного контрагенту, из истории взаимодействия ним.</p></li>
<li><p><a class="reference internal" href="DocumentId.html"><span class="doc">InvitationDocumentId</span></a> - ссылка на документ, который был отправлен вместе с приглашением. Данное поле заполняется независимо от наличия доступа к документу и, только в случае, если статус контрагента один из <em>IsMyCounteragent</em>, <em>InvitesMe</em>, <em>IsInvitedByMe</em>. Список статусов, для которых возвращается документ, может быть расширен в будущем.</p></li>
</ul>
<p>Структура данных <em>CounteragentCertificateList</em> представляет собой список сертификатов контрагента представленных в виде структуры <em>Certificate</em>.</p>
<p>Структура <em>Certificate</em> представляет собой один сертификат:</p>
<ul class="simple">
<li><p><em>RawCertificateData</em> - сам сертификат, сериализованный в массив байтов в DER-кодировке.</p></li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../API_Templates.html" class="btn btn-neutral float-right" title="Работа с шаблонами" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../http/GetCounteragentCertificates.html" class="btn btn-neutral float-left" title="GetCounteragentCertificates" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Диадок.
      <span class="lastupdated">
        Обновлено: мар. 28, 2022.
      </span>

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>